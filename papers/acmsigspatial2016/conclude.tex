\section{Conclusion}
%To conclude, this project contains not only the data mining and machine learning algorithms used to extract the features, train the model and predict the traffic situation with given input features, but also includes the server interface and web application that one can edit, browse and calculate the prediction result as an extra layer on map.

This paper shares our experience of developing a system capable 
of learning from both geospatial and non-geospatial features from 
one part of a city and predicting the traffic condition at 
any time for another part in China. The system is trained from crawled
live traffic data and POIs from Baidu map and shows the 
prediction results on a web demo based on OpenStreetMap platform.
This type of cross-area prediction is very useful when no historical
traffic data for a place is available, such as in urban planning.
 
We address the multi-class imbalance issue by using a weighted linear SVM
as our primary model, and achieves prediction accuracy on par with
the prediction given by Baidu map itself, which possesses larger and
finer grained data such as traffic speed. We also experimented with
other more sophisticated data rebalance schemes such as SMOTE and
more refined ensemble classifiers, but
these alternative methods/models are very slow and do not 
achieve better results.  

%For the algorithm and model part, we show at last that our feature and model as well as the system is capable of predicting future traffic at a relatively good accuracy with road network, points of interest and other spatial data, along with temporal and other related non-spatial data as input. We also made a comparison against Baidu Map's traffic prediction accuracy, at the same area and same time period, with the data points sampled, collected and divided into hourly basis and into time slots. We exceeded Baidu Map most of the time in terms of accuracy. Besides from the relatively close prediction during non-rush hours or weekdays, we perform much better at rush hours where traffic anomalies appears more often. We use class-weighted SVM for training to compensate for the extreme data imbalance issues. Our special point and the advantage over other similar traffic prediction researches or production is that we can accept a variable map as an input, that is we take more consideration into the properties that lies in the geographical spatial data maps, rather than predicting by merely using historical traffic data and time-series models which is prevalent in this field. We tested by changing and selecting features and confirmed on the positive effect that how both local geographical features like POI or road density and non-local features like population distribution, traveling behavior and routing preferences, etc. affects the traffic flow in urban areas.
%
%As for the platform we developed, the demo is already fully functional at the time, available at \url{http://adapt.seiee.sjtu.edu.cn:8080/traffic/} and users can browse the map in Shanghai, making edits or doing prediction with input parameters and current bounding box, then the prediction result would show up as a map overlay with colors representing traffic on the road. Our system which consists of a lot of services that communicates and process with each other is fully set up, and we designed the system to be robust and decoupled enough so that if we later manage to improve or model, the interchangeable model file can be replaced and the system will instantly show a better result. Meanwhile, our crawlers to get history data as well as testing and training data from various sources are still up and running, continuing the data collection and training.

%We still have some plans of future work, though. Our prediction scores is really bad for minor classes like the anomalies like congested traffic situations, due to the intrinsic nature of extreme imbalance. So first of all is continuing working on the data set and class representation imbalance issue to greatly increase our performance while dealing with heavy traffic hours. There are promising methods like synthetic data re-sampling, SMOTE, as described in earlier Section~\ref{imbalancedata} as well as using techniques used in anomaly detection such as one-class SVM and decision trees, since some traffic situations are very much like anomalies. We shall investigate more on the data collection quality as well as feature engineering to train a better model with higher accuracy. We will find more data sources relevant to the traffic issues that may become useful because cross-referencing is important. Time-series methods like Markov process or moving average methods are also worth a try. Dig deeper into the human mobility and migration behaviors, especially in urban environments, by implementing simulation process in an abstracted network or graph with traffic being described as flow, is also a promising way to improve. Currently our demo's prediction speed is not fast enough for conveying a good user experience. Besides from the interface updates, we plan to optimize the prediction speed by implementing offline feature extraction which is the most costly part, as well as speed up the algorithm by using distributed computing platform and database. Online machine learning algorithms and models are preferred because while we continuously crawl the data, we would like to make the model better and take feedback into account from newly-become historical data.


