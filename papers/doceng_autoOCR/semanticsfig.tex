\begin{figure}[ht!]
\tiny
\centering
% \begin{eqnarray*}
% \text{text~~box} ::=&&\{c=\text{coor}, t=v\}\\
% &&|\{\}\\
% \text{parse\_tree} ::=&&()\\
% &&|((e,text~~box), [parse\_tree_1,...,parse\_tree_n])\\
% \text{input~~data} ::=&& set ~~ of ~~ text~~boxs\\
% \end{eqnarray*}

\begin{align*}
% \centering
% \[
  Cons:text\_box~*&~coor*expression \rightarrow bool \\
% \]
% \[
  Find:input\_data~*&~coor*value \rightarrow input\_data \\
% \]
\end{align*}
\begin{align*}
% \centering
% \[
  Begin:&~input\_data \rightarrow coor \\
% \]
% \[
  End:&~input\_data \rightarrow coor \\
% \]
\end{align*}
%\vspace{-6 mm}
\[
  Filter:(input\_data*parse\_tree)list*expression \rightarrow (input\_data*parse\_tree)list 
\]
\[
  Hskip:input\_data*coor*(input\_data*parse\_tree)list \rightarrow input\_data 
\]
\[
  Vskip:input\_data*coor*(input\_data*parse\_tree)list \rightarrow input\_data 
\]

\caption{Functions in Semantics}\label{fig:funseman}
\end{figure}

\begin{figure}[ht!]
\tiny
% \[
%   {\rm Judgment~ Form:}~~ E,D;e \Downarrow (D';parse\_tree)list
%   \label{semantic:judegement} 
% \]
% where E is environment, D and D' are input\_data, C records the position of the cursor.
% \begin{minipage}[c]{0.45\textwidth}
\begin{gather*}
  \tag{\sc E-Empty}\label{rule:empty}
  \frac
  {}
  {E,\{\};x \Downarrow []}\\
  % \tag{\sc E-X1}\label{rule:x1}
  % \frac
  % {p \in D ~~ E(c)=coor ~~ Cons(p, coor, type)=true ~~ E,(D-p);x \Downarrow r}
  % {E,D;x \Downarrow (\{\};(x(type), p),[])::r}\\
  % \tag{\sc E-X2}\label{rule:x2}
  % \frac
  % {p \in D ~~ E(c)=coor ~~ Cons(p, coor, type)=false ~~ E,(D-p);x \Downarrow r}
  % {E,D;x \Downarrow (\{p\};(x(type), \{\}),[])::r}\\
  \tag{\sc E-C1}\label{rule:c1}
  \frac
  {p \in D ~~ E(c)=coor ~~ Cons(p, coor, const)=true ~~ E,(D-p);x \Downarrow r}
  {E,D;const \Downarrow ((D-p);(const, p),[])::r}\\
  \tag{\sc E-C2}\label{rule:c2}
  \frac
  {p \in D ~~ E(c)=coor ~~ Cons(p, coor, const)=false ~~ E,(D-p);x \Downarrow r}
  {E,D;const \Downarrow (D;(const, \{\}),[])::r}\\
  \tag{\sc E-X}\label{rule:x}
  \frac
  {p \in D ~~ E(c)=coor ~~ E,(D-p);x \Downarrow r}
  {E,D;x \Downarrow ((D-p);(x, p),[])::r}\\
  % \tag{\sc E-Name}\label{rule:name}
  % \frac
  % {E(x)=v ~~ E(c)=coor ~~ Find(D, c, v)=D'}
  % {E,D;*x \Downarrow \sum_{p_i \in D'}((D'-p_i);(*x, p_i),[])::[]}\\
  \tag{\sc E-Constraint}\label{rule:Constraint}
  \frac
  {E,D;e_0 \Downarrow r_0 ~~~~ \forall i: r_{i+1}=Filter(r_i, e_i)}
  {E,D;e_0(e_1, e_2, ..., e_n) \Downarrow r_{n+1}}\\
  \tag{\sc E-Coor}\label{rule:coor}
  \frac
  {Find(D, coor, nil)=D' ~~ E[c \mapsto Begin(D')],D';e \Downarrow (D'';t)list}
  {E,D;e(coor) \Downarrow (D-D'+D'';t)list}\\
  %\end{gather*}
  %\end{minipage}
  %\hfill \begin{minipage}[c]{0.45\textwidth}
  %\begin{gather*}
  % \frac
  % {E,D;e \downarrow r}
  % {E,D;e~~as~~x \Downarrow }\\
  \tag{\sc E-Hskip}\label{rule:hskip}
  \frac
  {E,D;e \Downarrow r ~~ E(c)=coor ~~ Hskip(D, coor, r)=D'}
  {E,D;hskip~~e \Downarrow (D';[])::[]}\\
  \tag{\sc E-Vskip}\label{rule:vskip}
  \frac
  {E,D;e \Downarrow r ~~ E(c)=coor ~~ Vskip(D, coor, r)=D'}
  {E,D;vskip~~e \Downarrow (D';[])::[]}\\
  \tag{\sc E-Union}\label{rule:union}
  \frac
  {E,D;e_1 \Downarrow r_1 ~~ E,D;\{e_2|..|e_n\} \Downarrow r_2}
  {E,D;\{e_1|e_2|...|e_n\} \Downarrow r_1+r_2}\\
  \tag{\sc E-Sturct}\label{rule:struct}
  \frac
  {E,D;e_1 \Downarrow (E',D';parse\_tree)list~~~~  \forall i:  E'_i[c \mapsto End(D-D_i')],D_i';\{e_2,...,e_n\} \Downarrow r_i}
  {E,D;\{e_1,e_2,...e_n\} \Downarrow \sum_{i=1}^{m} (D';parse\_tree)list*r_i}\\
  \tag{\sc E-List}\label{rule:list}
  \frac
  {E,D;head ~~e~~list \Downarrow (E',D';parse\_tree)list ~~~~ \forall i:  E'_i[c \mapsto End(D-D_i')],D_i';tail~~e~~list \Downarrow r_i}
  {E,D;e~~list \Downarrow \sum_{i=1}^{m} (D';parse\_tree)list*r_i}\\
  % \tag{\sc E-List}\label{rule:list}
  % \frac
  % {E,D;e \Downarrow (E',D';parse\_tree)list ~~~~ }
  % {E,D;e ~~ list \Downarrow }\\
\end{gather*}
%\end{minipage}
\caption{Semantics}\label{fig:semantics}
\end{figure}
