\subsection{Candidate Picker}
\label{sec:picker}
Given an HTML page body and the number $k$, 
the candidate picker collects a set of lists as candidates.
Each list item is a text node in the page body.

We define a {\em tag path} of a node as a path from the root to this node 
in the DOM tree.
Items in a ``top-$k$'' list usually have similar format and style, 
and therefore they share an identical tag path. 
For example, in Table \ref{tab:sampleoutput},
the tag path corresponding to the second column {\em Name} is 
{\tt html/body/.../p/strong}. Our {\em Default} algorithm takes
advantage of this observation to identify lists of size $k$. Note
that there might be multiple lists of the same size 
from a given page.

\cut{%%%%%%%%%%%%%%
Based on this observation, our algorithm runs in four steps:
First, we preprocess the DOM tree to normalize the content of text nodes 
(remove non-printable characters and shorten continuous spaces, etc.). 
Second, we prune the DOM tree by cutting subtrees that include ``blacklisted''
attributes such as ``sidebar'' and ``comment'', because these often indicate
they are not the main content of the page. 
%so that we can get avoid of most advertisements and user comments.
Third, we compute the tag path for every node in the DOM tree of the 
input page. Finally, we group nodes with an identical tag path into 
one {\em equivalence class}, and we
select those equivalence classes which have exactly $k$ members as our
candidate lists. 
}%%%%%%%%%%%%%%%

The {\em Default} algorithm achieves good 
recall but may produce noise. In a modified algorithm, known as
 {\em Def+Patt}, we introduce filters based on more reliable patterns
such as indices and highlighting.

\cut{%%%%%%%%%%%%%%%%%%
We then introduce three additional pattern-based rules to 
filter the candidate lists:

\begin{enumerate}
\item \textit{Index}:
There exists an integer number in front of every list item, serving as
a rank or index: e.g., ``1.'',``2.'',``3.'', ..., the numbers are in sequence
and within the range of $[1, k]$.

\item \textit{Highlighting tag}:
The tag path of the candidate list contains at least one tag 
among {\em <b>,<strong>,<h1-h6>} for highlighting purposes.

\item \textit{Table}:
The candidate list is shown in a table format.
\end{enumerate}

In this modified algorithm, a.k.a. {\em Def+Patt} algorithm,
only candidates that satisfy at least one of the rules above are
kept and output to the next step. 
For example the ``top-$k$'' list in Figure \ref{fig:topscientists} 
satisfies rules 1 and 2.
}%%%%%%%%%%%%%%%

