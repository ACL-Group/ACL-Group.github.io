%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% ====================================================================
%%%  Copyright (C) 2006 Wu Kai
%%%  @BibTeX-style-file{
%%%     author          = "吴凯",
%%%     version         = "1 Beta 3 测试版",
%%%     date            = "2006/9/19"
%%%     filename        = "GBT7714-2005.bst",
%%%     address         = "上海财经大学，公共经济与管理学院，200433",
%%%     email           = "solomonkwu@gmail.com",
%%%     docstring       = "本文件是GBT7714-2005.bst的说明文档。"
%%%     copyright       = "使用前请核对最新的版本。您可以免费使用和传播本文件（GBT7714.tex）。
%%%                        作者保留修改的权利，以保证不同版本GBT7714.tex的一致性。
%%%                        如您需要对本文件进行修改，请另存为其他名字。"
%%% ====================================================================
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[a4paper]{article}
\usepackage{indentfirst}
\usepackage{longtable}
\usepackage{colortbl}
\usepackage{natbib}                          %著者-出版年格式,使用fixbbl
%\usepackage[numbers,sort&compress]{natbib}    %顺序编码格式,数字、排序和压缩，使用bibtex
%\usepackage{hypernat}                         %顺序编码格式，使用超级链接，使用bibtex
\usepackage{CJK}
\usepackage{bibentry}
\usepackage{titlesec}
\usepackage{caption2}
%如果使用下述代码，则请使用fixbbl -cjk fixbbl
\input fixcjk

\usepackage[a4paper,left=2.5cm,right=2.5cm,top=3cm,bottom=3cm]{geometry}
\usepackage{fancyvrb}

\usepackage{color}
\usepackage{ifpdf}
\ifpdf
\usepackage[unicode,colorlinks,bookmarksnumbered=true,bookmarksopen=true,urlcolor=red,citecolor=blue,CJKbookmarks=true]{hyperref}
\else
\usepackage[dvipdfm,unicode,colorlinks,bookmarksnumbered=true,bookmarksopen=true,urlcolor=red,citecolor=blue,CJKbookmarks=true]{hyperref}
\fi

\input TeXdef

\begin{document}

\begin{CJK*}{GBK}{song}
\renewcommand\figurename{\textbf{图}} % 插图题头
\renewcommand\tablename{\textbf{表}} % 插图题头
\renewcommand{\captionlabeldelim}{}
\makeatletter
\long\def\@makecaption#1#2{%
 \vskip\abovecaptionskip
 \sbox\@tempboxa{#1\quad #2}%
 \ifdim \wd\@tempboxa >\hsize
   #1\quad #2\par
 \else
   \global \@minipagefalse
   \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
 \fi
 \vskip\belowcaptionskip}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%根据不同的参考文献引用方法，
%著者-出版年格式时正文输出为“（著者，年）页码”，其中页码为上标，
%在顺序编码制中，正文中引用格式为“[引用编号]页码”，都为上标。
%根据不同的需要重新定义citep。
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%著者-出版年制，“（著者，年）页码”，其中页码为上标
\let\oldcitep\citep
\newcommand{\citeayp}[2][]{\oldcitep{#2}\textsuperscript{#1}}
\renewcommand{\citep}{\citeayp}

\let\oldcitet\citet
\newcommand{\citeayt}[2][]{\oldcitet{#2}\textsuperscript{#1}}
\renewcommand{\citet}{\citeayt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%顺序编码制制，“[引用编号]页码”，都为上标
%\let\oldcitep\citep
%\newcommand{\citenp}[2][]{\textsuperscript{\oldcitep{#2}#1}}
%\renewcommand{\citep}{\citenp}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\newcommand\BIBand{和}

\CJKindent

\VerbatimFootnotes


\title{\textsf{GBT7714-2005.bst}：利用\BibTeX生成\\符合GB/T 7714-2005的参考文献}
\author{吴凯\\\href{mailto:solomonkwu@gmail.com}{solomonkwu} \texttt{@}\href{http://www.gmail.com}{gmail.com} }
\date{Version 1 Beta 3 测试版, \today}
\maketitle

\renewcommand\abstractname{摘要}
\begin{abstract}
在Sake J.
Hogeveen所给的authordate1.bst文件的基础之上，通过不断试错和调整，得到中文参考文献样式文件GBT7714-2005.sty。
该样式文件利用\BibTeX，并结合\textsf{fixbbl}，能够生成基本符合国标GB/T 7714-2005的参考文献。
该样式文件仍有一些小问题有待解决，测试阶段会不断更新，请注意您的版本是否最新。

\end{abstract}

{\TeX}在国内起步较晚，缺乏符合中文参考文献格式的bst文件，更进一步限制了{\TeX}的使用。
《GB/T 7714-2005文后参考文献著录规则》（以下简称“国标”）
\footnote{《GB/T 7714-2005文后参考文献著录规则》于2005年3月23日发布，并于
2005年10月1日开始正式实施。其前身是1987年所颁布的GB7714-87。}
作为国家标准化管理委员会正式公布的标准，其权威性和通用性远远超过了其它格式规范，是国内最正式的参考文献格式规范，
并且是大多数高校毕业论文和杂志的指定参考文献格式。
\footnote{就文科期刊而言，《中国社会科学》和《经济研究》这两本顶级刊物使用的参考文献格式
并非是国家标准GB7714，其显著特征是文章名和书名被书名号括起来。然而大多数学报的参考文献格式选的是国标。
中国期刊网的中国学术期刊（光盘版）技术规范CAJ-CD B/T 1-2005基本上与国标相一致，多一些细节性的要求。
本bst部分参考中国学术期刊（光盘版）技术规范CAJ-CD B/T 1-2005。}
定制符合GB/T 7714-2005参考文献格式的bst文件，不仅
有利于{\TeX}的推广，而且是{\TeX}使用者所希望解决的一个重要问题。

\textsf{GBT7714-2005.bst}利用《GB/T 7714-2005文后参考文献著录规则》附录A中所给出的实例，
得到参考文献库GBT7714-2005.bib作为基本测试文献库，通过比较、试错和不断调整最终得到。
\textsf{GBT7714-2005.bst}实际上包含四个bst文件（如表\ref{tab:4bst}所示）。
bst文件后缀AY和N分别代表“著者-出版年”和“顺序编码”两种参考文献格式。
文件GBT7714-2005AYLang.bst 和GBT7714-2005NLang.bst
是通过略微改写GBT7714-2005AY.bst 和GBT7714-2005N.bst 得到的。
区别在于中西文献的区分方面， GBT7714-2005AY.bst 和 GBT7714-2005N.bst
对中文文献类型在相应英文文献类型前加入字母C，例如中文book定义为cbook类型，对中西文献分别进行处理。
而GBT7714-2005AYLang.bst 和 GBT7714-2005NLang.bst 利用域Language的值是否非空来控制是否为中文文献，
并确定相应输出。两者的输出结果并没有差别。

\begin{longtable}{|p{4cm}|p{3cm}|p{5cm}|p{3cm}|}
\caption{\textsf{GBT7714-2005.bst}四个bst文件的异同\label{tab:4bst}}\\

\hline
        文件                    & 输出格式        & 中英文参考文献类型区别      & 是否利用 Language 非空判断中文文献 \\
\hline
\textsf{GBT7714-2005AY.bst}     & 著者-出版年格式 & 中英文不同（中文类型前加C） & 否                             \\
\hline
\textsf{GBT7714-2005N.bst}      & 顺序编码制格式  & 中英文不同（中文类型前加C） & 否                             \\
\hline
\textsf{GBT7714-2005AYLang.bst} & 著者-出版年格式 & 中英文相同                  & 是                             \\
\hline
\textsf{GBT7714-2005NLang.bst}  & 顺序编码制格式  & 中英文相同                  & 是                             \\
\hline
\end{longtable}

GBT7714-2005AY.bst （GBT7714-2005N.bst）利用在参考文献类型前加入C表示中文文献，对中西文献分别处理。
虽然这一处理方式能达到目的，然而却导致必须对中西文献分别作为不同文件管理，在正式输出前必须确认
中文文献类型已经作了相应的修改。考虑到不少人使用Jabref来管理bib文件，而改变参考文献类型的方法将导致
Jabref无法正确识别文献类型。因此借鉴Jstor数据库的做法，加入一个专门的域language来区分中西文献%
（如果域值为非空则表明是中文文献，非中文文献请保持此域为空）。
相应地利用GBT7714-2005AYLang.bst （GBT7714-2005NLang.bst）来生成参考文献的输出结果。
GBT7714-2005AY.bst （GBT7714-2005N.bst）与GBT7714-2005AYLang.bst （GBT7714-2005NLang.bst）
的关系见第\ref{DesignThought:Seperation}节，以后版本只发布GBT7714-2005AYLang.bst（GBT7714-2005NLang.bst），
如果需要GBT7714-2005AY.bst （GBT7714-2005N.bst），使用者可以自行修改 GBT7714-2005AYLang.bst （GBT7714-2005NLang.bst）。

本说明文档是\textsf{GBT7714-2005.bst} 的说明文档，以介绍
GBT7714-2005AYLang.bst 和GBT7714-2005NLang.bst的使用方法为主，GBT7714-2005AY.bst 和 GBT7714-2005N.bst
的使用方法参照 GBT7714-2005AYLang.bst 和 GBT7714-2005NLang.bst。

本说明文档的有关行文规则说明如下：
\begin{itemize}

\item 在不引起歧义的情况下，将《GB/T 7714-2005文后参考文献著录规则》简称国标。
  《GB/T 7714-2005文后参考文献著录规则》2005年10月1日开始实施，代替1987年颁布的GB7714-87。

\item 一般而言章节符号\S指《GB/T 7714-2005文后参考文献著录规则》的相应章节。

\item 本说明文档，通过调整{\textsf{GBT7714-2005AY.bst}} （\textsf{GBT7714-2005AYLang.bst}）
  与 {\textsf{GBT7714-2005N.bst}} （\textsf{GBT7714-2005NLang.bst}），以及natbib等的设置，能分别
  得到针对作者年和顺序编码制引用的不同效果。

\item 《GB/T 7714-2005文后参考文献著录规则》似乎更加倾向于使用顺序编码制，附录A中也仅仅给出了顺序编码文后
  参考文献表著录格式示例。有关著者-出版年文后参考文献表著录格式示例仅在\S10.2给出了4个例子。
  因而\textsf{GBT7714-2005.bst}的测试主要是针对顺序编码制（\textsf{GBT7714-2005N.bst}），而著者-出版年
  格式（\textsf{GBT7714-2005AY.bst}）因为示例较少，可能存在格式错误的问题。希望使用者能提供宝贵的反馈意见。

\item 由于我并非是一个计算机专业人士，{\textsf{GBT7714-2005.bst}}
以达到生成符合国标GB/T 7714-2005的文后文献为目标，代码本身可能存在一定的低效性，没有对其进行精炼。



\end{itemize}

\section{\textsf{GBT7714-2005.bst}的使用方法}

国标规定可以采用顺序编码制和著者-出版年两种方式，其文后参考文献表著录格式有所不同（参见
《GB/T 7714-2005文后参考文献著录规则》\S10参考文献标注法）。因此GBT7714-2005.bst，
分为不同的bst文件，分别用于顺序编码制（bst文件以N结尾）和著者-出版年（bst文件以AY结尾）两种方式。

\textsf{GBT7714-2005.bst}的使用方法很简单，只需要使用宏包natbib和hypernat并结合软件fixbbl对中文排序。
根据需要设置不同的参考文献格式即可。常见的设置方法有：
\begin{enumerate}
  \item 著者-出版年（国标推荐格式之一）。

使用宏包natbib

  \verb=\usepackage{natbib}=

参考文献格式设为GBT7714-2005AY.bst

  \verb=\bibliographystyle{GBT7714-2005AY}=

国标规定如果使用著者-出版年格式，在正文中标注使用正文形式的带圆括号的作者和年，
以及不带括号的页码用上标形式，形式如:吴凯(2006)$^2$或是
（吴凯，2006）$^2$。这一形式可以通过重新定义命令
citet和citep为所需格式。

例如重新定义citet如下：

\begin{verbatim}
\let\oldcitet\citet
\newcommand{\citeayt}[2][]{\oldcitet{#2}\textsuperscript{#1}}
\renewcommand{\citet}{\citeayt}
\end{verbatim}

例如重新定义citep如下：

\begin{verbatim}
\let\oldcitep\citep
\newcommand{\citeayp}[2][]{\oldcitep{#2}\textsuperscript{#1}}
\renewcommand{\citep}{\citeayp}
\end{verbatim}
则\verb|\citet[22]{crawfprd1995}|的输出效果为：\citet[22]{crawfprd1995},
\verb|\citep[22]{crawfprd1995}|的输出效果为：\citep[22]{crawfprd1995}。

  \item 顺序编码制（国标推荐格式之一）。

当使用hyperref宏包来生成超链接的时候，为了利用natbib得到排序而且压缩的引用效果。
应该在加入natbib 宏包后再使用宏包hypernat 。

  \verb=\usepackage[numbers,sort&compress]{natbib}  %参数代表：数字和排序与压缩=

  \verb=\usepackage{hypernat}=

参考文献格式设为GBT7714-2005N.bst

  \verb=\bibliographystyle{GBT7714-2005N}=

如果使用顺序引用法，国标规定在正文中使用带方括号的文献引用次序和不带括号的页码都用上标形式，并且要进行压缩，
形式如$^{[12]23}$。
带方括号文献引用次序和不带括号的页码的上标形式，可以选择重新定义citep为带方括号的上标形式，例如：
  \begin{verbatim}
\let\oldcitep\citep
\newcommand{\citen}[2][]{\textsuperscript{\oldcitep{#2}#1}}
\renewcommand{\citep}{\citen}
  \end{verbatim}
则\verb|\citep[22]{crawfprd1995}|的输出效果为：\citep[22]{crawfprd1995}。

如上做法的好处在于，可以保证在著者-出版年和顺序引用不同格式之间的代码通用。
使用者也可以按照需要设置自己所需方式。

\item 将参考文献条目插入正文或脚注中。

对于顺序编码制的bst，可以通过使用宏包bibentry将参考文献条目插入正文或脚注中
（著者-出版年制的bst无法实现此功能）。方法如下：

\verb|\usepackage{bibentry}|

\begin{itemize}
  \item 文后有参考文献列表

在插入参考文献条目前使用（否则bibentry无法找到参考文献条目）

\verb|\nobibliography*{}|

插入参考文献条目的命令为

\verb|\bibentry{key}|

在文章最后加入

\verb|\bibliography{mybib}|

其中mybib为参考文献bib文件名（多个文件以英文的逗号间隔），以输出文后参考文献。

  \item 文后无参考文献列表

在插入参考文献条目前使用

\verb|\nobibliography{mybib}|

插入参考文献条目的命令为

\verb|\bibentry{key}|


著者-出版年方式的bst无法通过bibentry插入参考文献条目，可以直接拷贝通过
GBT7714-2005.bst 编译好的参考文献条目到正文中。
\end{itemize}

\end{enumerate}

以test.tex为例，著者-出版年编译步骤：
\begin{verbatim}
(pdf)latex test->fixbbl test->必要的修改test.bbl->(pdf)latex test->(pdf)latex test
\end{verbatim}
顺序引用制编译步骤为：
\begin{verbatim}
(pdf)latex test->bibtex test->必要的修改test.bbl->(pdf)latex test->(pdf)latex test
\end{verbatim}
著者-出版年按照参考文献的名字排序，而顺序编码制则按照参考文献在文中引用的自然顺序文后参考文献排序，
因此著者-出版年方式用fixbbl，而顺序编码制用bibtex。

虽然\textsf{GBT7714-2005.bst}已经经过大量测试，
对于输出参考文献条目的格式进行检查和必要的修改bbl文件很有必要。
目前，对test.bbl进行必要的修改主要指将“]//.”替换为“]//”。这是因为\textsf{GBT7714-2005.bst}
所生成的英文析出文献的文献类型标识码之后会有一个句号（GB/T7714-2005规定没有），是\textsf{GBT7714-2005.bst}
一个仍未解决的问题。相对而言，中文姓名固定，没有出现这个问题，因此怀疑这个问题与外文姓名分离，次序变换有关。
解决途径：对所生成的bbl文件将其中的“]//.”替换为“]//”然后运行latex两次以上，则可得到正确的结果。
一般而言参考文献中使用“]//.”的可能性较小，替换不会造成太大麻烦。
这一问题可以借助于hooklee所编的小软件\verb|replace_fs.exe|来自动实现替换。
该工具有两种运行方式：

1. \verb|replace_fs file str1 str2|

将file中的所有字符串str1替换为str2

2. \verb|replace_fs config_file [prefix_path]|

逐行读取\verb|[prefix_path\]config_file|中的参数，对多个文件中的多个字符串进行替换。

这个工具可以在\url{http://www.hooklee.com/tex.html}下载。

可以将所有的操作作为一个批处理文件来自动执行。具体说来，针对著者-出版年格式：
\begin{verbatim}
GBT7714AY.bat的代码如下，另存为bat文件即可
latex GBT7714
fixbbl GBT7714 -sort=py
replace_fs GBT7714.bbl ]//. ]//
latex GBT7714
latex GBT7714
\end{verbatim}

对于顺序编码制：
\begin{verbatim}
GBT7714N.bat的代码如下，另存为bat文件即可
latex GBT7714
bibtex GBT7714
replace_fs GBT7714.bbl ]//. ]//
latex GBT7714
latex GBT7714
\end{verbatim}



\section{GBT7714-2005.bst对参考文献条目的日常维护方法}
\subsection{GBT7714-2005AYLang.bst和GBT7714-2005NLang.bst}

GBT7714-2005AYLang.bst和GBT7714-2005NLang.bst的参考文献条目日常维护可以借助Jabref等软件，
仅仅需要将中文文献的language设为非空即可，例如设为Chinese。相应的，如果是英文文献，则应使该域为空。

\subsection{GBT7714-2005AY.bst和GBT7714-2005N.bst}
\begin{enumerate}
  \item 将中英文文献分别作为不同的bib文件存放；

  \item 平时输入参考文献条目时，可以不考虑中文和英文文献的类型的差别，用同一参考文献类型设置相关的域值。
例如中文书和英文书都预设为book类型。参考文献条目的输入，可以借助于jabref软件。

  \item 对文献运用GBT7714-2005.bst处理前，在中文文献的bib文件中查找符号"@"，
并替换为"@C"，另存为一个新的bib文件。
例如，将"@BOOK"中的"@"替换为"@C"之后，得到"@CBOOK"，相应的类型由book变为cbook。
这一替换过程将中文和英文文献的类型区分开，为\textsf{GBT7714-2005.bst}处理文献区分好中英文类型。
GBT7714-2005.bst对新的bib文件进行处理即可。

一般而言，符号"@"多用于电子邮箱中，
参考文献名中出现符号"@"的概率很小，因而这一替换能正确地将中文参考文献的类型由
输入时的英文的类型替换为相应的中文参考文献类型，出错的可能性较小。
同时提醒：将"@"替换为"@C"前，为避免错误的替换，最好借助于winedt的search in files或
ultraedit的“文件中搜索"功能查找并浏览是否参考文献题目中使用过符号"@"。当然作为参考文献的输入者，
输入时就能知道是否曾经输入和使用过符号"@"。


\end{enumerate}



\section{\textsf{GBT7714-2005.bst}的设计思想}

\subsection{中英文献分离}
\label{DesignThought:Seperation}
考虑国标在处理中文文献和英文文献时有所不同。例如：当书（book）没有出版地和出版社时，中文文献表示为
“[出版地不详]：[出版者不详]”，而英文文献则表示为[S.l.]: [s.n.]。
因此必须将中文文献和英文文献分为两类，一种方式是中文文献类型名在英文文献类型名前加字母c，
例如英文书为book，而中文书相应为cbook。
另一种方式是利用language域是否为空来判断是否是中文文献。以book类为例，则将book和cbook两类的
函数合并为一个。例如GBT7714-2005AYLang.bst和GBT7714-2005NLang.bst的设置为:
\begin{verbatim}
FUNCTION {book}
{language empty$            %修改处
{ output.bibitem
  ......
  fin.entry
}

%FUNCTION {cbook}           %修改处
{ output.bibitem
  ......
  fin.entry
}
if$                         %修改处
}                           %修改处
\end{verbatim}

\subsection{文献类型（entry types）分类}

\textsf{GBT7714-2005.bst}所使用的{\TeX}的文献类型主要有：
article, book, inbook, incollection, proceedings, inproceedings,
conference, mastersthesis, phdthesis, techreport, misc。
以及相应适用于中文文献的类型（在英文文献类型名前加入字母c）：
carticle, cbook, cinbook, cincollection, cproceedings, cinproceedings,
cconference, cmastersthesis, cphdthesis, ctechreport, cmisc。

\textsf{GBT7714-2005.bst}对于国标GB/T 7714-2005的文献分类如表\ref{tab:entrytypes}所示。

\textsf{GBT7714-2005.bst}的文献类型分为缺省类型和扩展类型两种。
一般而言，\textsf{GBT7714-2005.bst}分类的首要标准是直观、常识、公认的分类标准，
由此确定文献类型的相应缺省类型。
其次是按照文献输出格式的类似性分类，由此扩展一些类型归入相应的文献类型中。
例如：article顾名思义是期刊杂志类，
因此其缺省类型为文章[J]，考虑到报纸[N]和在线文章[J/PL]与其类似性，
将报纸[N]和在线文章[J/PL]作为article的扩展类型。

对于每种文献类型的缺省类型，已经设置好相应的文献标识码，因此不需要输入相应的文献标识码。而扩展类型
则必须输入相应的文献标识码。国标没有对硕士论文和博士论文作区分，因此mastersthesis和phdthesis
两种类型的输出结果一致。

misc类型作为非常规类型的分类，还不是很完善，定位也不是很明确。
整体来看，misc按照是相应域所赋的值有选择性的输出如下内容：
\begin{verbatim}
对于顺序引用：
author|normalauthor|editor|normaleditor
%必备：主要责任者

.year|miscyear
%年

.title
%.题名

:country,patentid
%针对专利：国家，专利号．

[TyperofLit].
%必备：[文献标识码].
%手工输入，包括[]//

edition.
%有选择：版本

translator.
%有选择：翻译者

editor.booktitle.
%有booktitle则表明是析出文献：编者.书名.
FUNCTION {format.edition}

journal,
%杂志

%startyear,startvolume(startnumber)-endyear,endvolume(endnumber).
%format.book.continue.vol.num ouput

address:publisher.
%出版地.出版者.

year/miscyear|startyear-endyear|
output.continue.year.chec
%有选择性的输出年

,volume(number):pages.
%卷.期.
%format.article.vol.num.date.pages output
%含有页码

date(modifydate)[citedate].url.
%针对在线文献

对于著者-出版年引用输出：
author/editor.year.title:country,patentid[TyperofLit].date(modifydate)[citedate].url.
\end{verbatim}

由于不同类型文献的输出内容不同（专利[P]和磁盘[CP/DK]等类型无需网址，而网上专利[P/OL]，网上电子公告[EB/OL]则
要输出网址），因而无法设置默认类型。
已经通过测试的扩展类型包括专利[P]，网上专利[P/OL]，网上电子公告[EB/OL]
和磁盘[CP/DK]。其他的可用于扩展的类型，留待以后测试过程中再增加和修正。

另外，在所有的类型之后保留了note域，用于在最后输出一些所需要的内容。比如
\citep{dai1983}设置
\begin{verbatim}
  note =         {(in Chinese)},
\end{verbatim}
输出结果为：
\begin{verbatim}
DAI S, FEI H, WANG L, et al. Reliability Test and Statistical Analysis[M]. Beijing: National
Defense Industrial Press, 1983. (in Chinese).
\end{verbatim}



\begin{table}[htbp]

\setlength{\abovecaptionskip}{0pt}
\setlength{\belowcaptionskip}{10pt}
\caption{\textsf{GBT7714-2005.bst}的分类方式}
\label{tab:entrytypes}
\begin{tabular}{|l|l|l|l|}
\hline
文献类型      & 缺省类型$^a$             & 扩展类型$^a$（已测试通过，   & 主要特征             \\
              &                          & 需要手工加入文献标识码）     &                      \\
\hline
article       & A7文章[J]4.4             & A8报纸中的析出文献[N]        & 年,卷(期):页码       \\
              &                          & A9在线文章[J/OL]4.4          &                      \\
\hline
book          & A1书[M]4.1               & A2论文集、会议录[C]4.1       &                      \\
              &                          & 在线书[M/OL]4.1              &                      \\
              &                          & 汇编[G]CAJ\S14.4             &                      \\
              &                          &                              &                      \\
\hline
inbook        & A1书的某几页[M]4.1       &                              &                      \\
\hline
incollection  & A6书中析出的文章[M]//4.2 & A6汇编的析出文献[G]//4.2     & 析出文献             \\
              &                          & A6标准的析出文献[S]//4.2     & [文献标识码]//       \\
\hline
proceedings   & \protect\footnotemark    &                              &                      \\
\hline
inproceedings & A6论文集、会议录中的     & A9在线论文集、会议录[C/OL]// & 析出文献             \\
/conference   & 析出文献[C]//4.2         &                              & [文献标识码]//       \\
\hline
mastersthesis & A4毕业论文[D]4.1         &                              & 类似book类           \\
\hline
phdthesis     & A4毕业论文[D]4.1         &                              & 类似book类           \\
\hline
techreport    & A3科技报告[R]            &                              & 类似book类           \\
\hline
misc          &                          & 杂项[]，例如:A5专利[P]4.5    & 此类一般是网上文件， \\
              &                          & A9网上专利[P/OL]4.5          & 按照国标规定顺序     \\
              &                          & A9网上电子公告[EB/OL]4.6     & 编码制时不输出年份   \\
              &                          & A9磁盘[CP/DK]                &                      \\
\hline
\end{tabular}

$^a$缺省类型和扩展类型的表示分为四部分，以“A7文章[J]4.4”为例，第一部分“A7”代码取自  《GB/T
7714-2005文后参考文献著录规则》附录A“顺序编码之文后参考文献标著录格式” 示例A7“期刊中析出的文献”；
第二部分“文章”表示文献类型； 第三部分“[J]”为文献类型标识码；第四部分4.4为  《GB/T
7714-2005文后参考文献著录规则》\S4著录项目与著录格式，所对应的小节\S4.4连续出版物中的析出文献。

\end{table}
\footnotetext{本想将“会议录[C]”归于此处，然而生成的参考文献中会议录的排序出错
\raisebox{0.5mm}{------}中文会议录在前，接英文会议录，打乱了正常排序。原因有待进一步研究}

cna
\subsection{文献的域（field）}
\subsubsection{原有的域}
\begin{enumerate}
  \item \S8.1.1国标文后参考文献列表的外文姓名大写，姓(second name)在前名(first name)在后，
  姓全拼，去掉名（first name）除词首字母以外的其他部分，
  且没有句点分割，即“Adam Smith”表示为“SMITH A”。
 \textsf{GBT7714-2005.bst}默认对于外文姓名的大写转换以及去除名的词首字母以外部分。
 引用如果某一作者某年的文献多于一篇时， \textsf{GBT7714-2005.bst}会自动在年后加上a，b，$\cdots$。

例如：\citep{CHRISTINE1998}
\begin{verbatim}
@article{CHRISTINE1998,
  author =       {Christine, Mlot},
  title =        {Plant physiology: plant biology in the Genome Era},
  journal =      {Science},
  volume =       {281},
  number =       {},
  pages =        {331-332},
  howpublished = {},
  year =         {1998},
  month =        {},
  note =         {},
  abstract =     {},
  keywords =     {},
  source =       {},
  TypeofLit =    {J/OL},
  country =      {},
  patentid =     {},
  date=          {},
  modifydate =   {},
  citedate =     {1998-09-23},
  url =          {http://www.sciencemag.org/cgi/collection/anatmorp},
}
\end{verbatim}
输出结果：
\begin{verbatim}
Christine M. 1998. Plant physiology: plant biology in the Genome Era[J/OL]. Science, 1998,
281:331{332[1998-09-23]. http://www.sciencemag.org/cgi/collection/anatmorp.
\end{verbatim}



  \item 国标规定多于三个作者，文后参考文献只显示三个作者，其后加入
  中文“等”，英文用“et al”。\textsf{GBT7714-2005.bst}能自动对作者列表进行截尾。

\begin{itemize}

    \item 中文：\citep{jiangyouxu1998}设置
\begin{verbatim}
AUTHOR =       {蒋有绪 and 郭泉水 and 马娟 and 等},    %第四个作者不详
\end{verbatim}
输出结果：
\begin{verbatim}
蒋有绪, 郭泉水, 马娟, 等. 1998. 中国森林群落分类及其群落学特征[M]. 北京: 科学出版社.
\end{verbatim}



    \item 英文：\citep{MARAIS1992}设置

\begin{verbatim}
AUTHOR={Des Marais, David J and Strauss, Harald and Summons, Roger E and Hayes, J. M.},
\end{verbatim}
输出结果：
\begin{verbatim}
Des Marais D J, Strauss H, Summons R E,et al. 1992. Carbon isotope evidence for the
stepwise oxidation of the Proterozoic environment[J]. Nature, 1992, 359:605{609.
\end{verbatim}

\end{itemize}



\item \S8.1.3无责任者或者责任者情况不明的文献，其主要著作者为"佚名"和"Anon"。
此时按照中英文，直接设置为下列选项之一：

\verb|author={佚名}|

\verb|author={Anon}|

\verb|editor={佚名}|

\verb|editor={Anon}|

注意：域key的值表示没有作者和编者时文献在正文中输出的值，也是此时用于排序的值，
例如设置\verb|key={文献正文标签}|，
在正文中将输出“文献正文标签(2006)”。

\item 域number和month的区别：域number用于杂志上的文章的“册”，而month留给报纸的“月和日”。另外报纸的
版面设为number域(因为国标的格式要求版面用圆括号括起来)。
例如：\citep{Zhangtianqing2000}设置如下域值：

\begin{verbatim}
@ARTICLE{Zhangtianqing2000,
  AUTHOR =       {张田勤},
  TITLE =        {罪犯DNA库与生命伦理学计划},
  JOURNAL =      {大众科技报},
  YEAR =         {2000},
  volume =       {},
  number =       {7},
  pages =        {},
  month =        {11-12},
  note =         {},
  abstract =     {},
  keywords =     {},
  source =       {},
  TypeofLit =    {N},
  language =     {Chinese},
}
\end{verbatim}

得到输出结果：

\begin{verbatim}
张田勤. 2000. 罪犯DNA库与生命伦理学计划[N]. 大众科技报, 2000-11-12(7).
\end{verbatim}


\item 国标\S8.3版本。
第1版不著录，其他版本说明需著录。版本用阿拉伯数字、序数缩写形式或其他标志表示。
古籍的版本可著录"写本"、"抄本"、"刻本"、"'活字本"等。
设置\verb|edition={版本}|。例如\citep{wangang1912}设置\verb|edition={石印本}|，\citep{rood2001}
设置\verb|edition={3rd ed}|。

\begin{tabular}{|l|l|l|}
  \hline
    示例1: 3版     &     (原题:第二版)           & \verb|edition={3版}|\\
      \hline
    示例2：新1版    &    (原题:新1版)             &\verb|edition={新1版}|\\
    \hline
    示例3：5th.      &  (原题:Fifth edition)      &  \verb|edition={5th}|\\
    \hline
    示例4：Rev. ed.   &  (原题:Revised edition)   &\verb|edition={Rev. ed}|\\
    \hline
    示例5 ：1978 ed.   &    (原题:1978 edition)    & \verb|edition={1978 ed}|\\
  \hline
\end{tabular}

注：版本设置最后不要加句点。{\textsf{GBT7714-2005.bst}}会自动在版本之后加入句点，因此
此处加的句点将导致重复输出句点。


\item \S8.6.2.1对从合期中析出的文献，按\S8.6.2的规则著录，并在圆括号内注明合期号。

示例： 1999(9/10):36-39

\verb*|年 合期号 页码|

解决途径：一个取巧的方法是设置\verb|number={9/10}|。

\item \S8.6.2.2凡是在同一刊物上连载的文献，其后续部分不必另行著录，
可在原参考文献后直接注明后续部分的年份、卷、期、部分号、页码等。

示例:1981 (1):37-44;1981(2):47-52

\verb*|年 期 页码 年 期 页码|

解决途径：设置页码为\verb|pages={37-44;1981(2):47-52}|

\end{enumerate}

\subsubsection{新加入的域}
针对国标一些特殊的规定，\textsf{GBT7714-2005.bst}新加入了17个域。
\begin{center}
\begin{tabular}{|l|l|}
\hline
 TypeofLit   & 文献类型和标志代码                   \\
\hline
normalauthor & 规定输出格式的作者                   \\
\hline
normaleditor & 规定输出格式的编者                   \\
\hline
translator   & 翻译者                               \\
\hline
      date   & 日期                                 \\
\hline
modifydate   & 修改日期                             \\
\hline
  citedate   & 引用日期                             \\
\hline
  patentid   & 专利号                               \\
\hline
   country   & 国家（主要用于专利中）               \\
\hline
  miscyear   & 规定输出格式的年份                   \\
\hline
 startyear   & 起始年                               \\
\hline
startvolume  & 起始卷                               \\
\hline
startnumber  & 起始期                               \\
\hline
   endyear   & 终止年                               \\
\hline
 endvolume   & 终止卷                               \\
\hline
 endnumber   & 终止期                               \\
\hline
 language    & 默认是英文文献，非空则表明是中文文献 \\
\hline
\end{tabular}
\end{center}

\begin{enumerate}
\item 文献类型和标志代码。\label{TypeofLit}对于非默认类型的文献类型标识码，通过此域给出：
\begin{itemize}
  \item TypeofLit
\end{itemize}

例如：\citep{hblz2001}是网上专利，文献类型标志代码为P/OL，因此设置\verb|TypeofLit ={P/OL},|。\citep{hblz2001}
的详细设置如下：
\begin{verbatim}
@MISC{hblz2001,
  author =       {河北绿洲生态环境科技有限公司},
  title =        {一种荒漠化地区生态植被综合培育种植方法},
  howpublished = {},
  year =         {2001},
  month =        {},
  note =         {},
  abstract =     {},
  keywords =     {},
  source =       {},
  TypeofLit =    {P/OL},
  country =      {中国},
  patentid =     {01129210.5},
  date=          {2001-10-24},
  citedate =     {2002-05-28},
  url =          {http://211.152.9.47/sipoasp/zlijs/hyjs-yx-new.asp?Recid-01129210.5&leixin},
  language =     {Chinese},
}
\end{verbatim}
输出结果：
\begin{verbatim}
河北绿洲生态环境科技有限公司. 2001. 一种荒漠化地区生态植被综合培育种植方
法：中国，01129210.5[P/OL]. 2001-10-24[2002-05-28]. http://211.152.9.47/sipoasp/zlijs/
hyjs-yx-new.asp?Recid-01129210.5&leixin.
\end{verbatim}

\item 国标的外文名字默认按大写输出，并对名(first name)首位字母之后截尾，
但是一些单词如et al，Jr.等，以及机构名称如World Health Organization，
应当保持其原有风格而不能变为大写。
除\textsf{GBT7714-2005.bst}能自动处理的et al外，Jr.和外国机构名等必须单独列出。
为此新设了两个域以保持作者和编者的原有输出风格：
\begin{itemize}
\item    normalauthor             不改变大小写的作者
\item    normaleditor             不改变大小写的编者
\end{itemize}
\noindent 域author和normalauthor（editor和normaleditor）的值应当同时设置，前者用于正文输出，后者用于文后参考文献的输出，
应将normalauthor（normaleditor）域设成文后参考文献的最终输出格式。

例如:

  \item \citep{BUSECK1980}设置

\begin{verbatim}
AUTHOR =       {Buseck, P R and Nord, Jr., G L and Veblen, D R},
normalAUTHOR = {BUSECK, P R and NORD, Jr., G L and VEBLEN, D R},
\end{verbatim}
输出结果：
\begin{verbatim}
BUSECK P R, NORD G L, Jr., VEBLEN D R. c1980. Subsolidus phenomena in pyroxenes[M]//.
Prewitt C T. Pyroxense. Washington，D. C.: Mineralogical Society of America:117{211.
\end{verbatim}


  \item \citep{who1970}设置

\begin{verbatim}
AUTHOR =       {{World Health Organization}},
normalAUTHOR =       {{World Health Organization}},
\end{verbatim}
输出结果：
\begin{verbatim}
World Health Organization. 1970. Factors regulating the immune response: report of WHO
Scientific Group[T]. Geneva: WHO.
\end{verbatim}


\item    翻译者

\begin{itemize}
  \item translator
\end{itemize}

例如：\citep{angwen1988}设置
\begin{verbatim}
translator =   {陈生铮},
\end{verbatim}
输出结果：
\begin{verbatim}
昂温 G, 昂温 P S. 1988. 外国出版史[M]. 陈生铮，译. 北京: 中国书籍出版社.
\end{verbatim}




\item 日期。主要指《GB/T 7714-2005文后参考文献著录规则》\S4.6电子文献中的日期、修改日期和引用日期。
\begin{itemize}
\item    date                     日期
\item    modifydate               修改日期
\item    citedate                 引用日期
\end{itemize}
见\ref{TypeofLit}的例子。

\item  专利（参见《GB/T 7714-2005文后参考文献著录规则》\S4.5电子文献）
\begin{itemize}
  \item patentid                 专利号
  \item country                  专利国家（主要用于专利中）
\end{itemize}
见\ref{TypeofLit}的例子。

\item  \S8.4.3出版日期

\S8.4.3.1出版年采用公元纪年，并用阿拉伯数字著录。如有其他纪年形式时，将原有的纪年形式置于"()"内。
通过\verb|miscyear={版本}|进行设置miscyear


示例1: 1947(民国三十六年)

设置：\verb|miscyear={1947(民国三十六年)}|

示例2:1705(康熙四十四年)

设置：\verb|miscyear={1705(康熙四十四年)}|

\S8. 4. 3. 3出版年无法确定时，可依次选用版权年、印刷年、估计的出版年。
估计的出版年需置于方括号内。通过\verb|miscyear={版本}|进行设置

\begin{tabular}{|l|l|}
  \hline
示例1：c1988   & \verb|miscyear={c1988}|    \\
  \hline
示例2:1995印刷 & \verb|miscyear={1995印刷}| \\
  \hline
示例3:[1936]   & \verb|miscyear={[1936]}|   \\
  \hline
\end{tabular}


例如：\citep{GANZHA2000}设置\verb|miscyear={c2000}|得到输出结果：

\begin{verbatim}
Ganzha V G, Mayr E W, Vorozhtsov E V. c2000. Computer algebra in scientific computing:
CASC 2000: proceedings of the Third Workshop On Computer Algebra in Scientific Computing,
Samarkand，October 5-9.2000[C]. Berlin: Springer, 2000.
\end{verbatim}

\end{enumerate}

\subsubsection{可选择的修改方式}
国标对于英文人名输出要求大写、对名截尾、连接符用逗号等规定与一般的使用习惯向左。本小节提供一些
修改方式，以便于对这些方面的修改。

\begin{enumerate}

\item 不对姓名取大写。
将GBT7714-2005.bst中函数
\begin{verbatim}
FUNCTION {bib.name.font}
{ upcase }
\end{verbatim}
改为
\begin{verbatim}
FUNCTION {bib.name.font}
{ }
\end{verbatim}
即可。

\item 不对名截尾。
将GBT7714-2005.bst中函数\verb|FUNCTION {format.names}|和\verb|FUNCTION {format.cnames}|中
的\verb|{ s nameptr "{vv~}{ll}{ f{~}}{, jj}"|行修改为\verb|{ s nameptr "{vv~}{ll}{, ff}{,jj}"|即可。


\item 不同作者之间的连接由逗号改为and。
将GBT7714-2005.bst中函数\verb|FUNCTION {format.names}|中两处\verb|{"and " * t * }|
改为\verb|{", " * t * }|即可。

\end{enumerate}



\section{结合Jabref的使用}
\subsection{Jabref中输入域的设置}
可以在Jabref中options菜单下的customize entry types中设置不同类型文献条目必需和可选的域。
更方便的办法是在options菜单下的set up general fields中自定义新的标签页设置自己所需的域。
从高度来看，建议每个标签页至多设置十个输入域。
例如在general fields最后加入如下两行，加入GBT7714-2005.bst新增的域，注意各行行内不能回车：
{\small
\begin{verbatim}
非常规:typeoflit;translator;language;normalauthor;normaleditor;miscyear
不常用:date;modifydate;citedate;patentid;country;startyear;startvolume;startnumber;endyear;endvolume;endnumber
\end{verbatim}
}

\subsection{中文文献language域的输入}
一种方式是在输入的同时在language域中输入非空的值，另一种方法是将中文文献放在一个文件中，
然后将\verb|"},^p}"|替换为\verb|"},^p  language = {Chinese},^p}"|，亦即将参考文献条目的最后一行前加入
\verb|"language = {Chinese}"|一行。



\section{不同类型文献的域}

不适当的设置文献类型的某些域，特别是设置非规定域的值，可能导致错误的输出结果。
{\textsf{GBT7714-2005.bst}}用GBT7714-2005.bib作为测试的参考文献库，其输出结果符合
国标GB/T 7714-2005的规定。因此
在了解以上关于文献类型分类和域的说明基础上，熟悉{\textsf{GBT7714-2005.bst}}相关设置的一个重要途径，是
学习和模仿GBT7714-2005.bib中对不同文献类型的分类和域的设置。

为简化这一过程，本节将常见文件类型所需设置
的域总结在此，使用者可以通过本节快速了解{\textsf{GBT7714-2005.bst}}对各种类型文献所需设置的域，
并可以直接拷贝作为参考文献条目的基础。本节的各种类型相应的域来自于GBT7714-2005.bib中通过测试的文献类型。
按照表\ref{tab:entrytypes}的分类方式进行分别说明。

\subsection{Book \& MastersThesis \& PhdThesis \& TechReport}
\begin{itemize}
  \item A1书[M]4.1
  \item A2论文集、会议录[C]4.1
  \item 在线书[M/OL]4.1
  \item A1书的某几页[M]4.1
  \item A4毕业论文[D]4.1
  \item A3科技报告[R]
\end{itemize}

\begin{verbatim}
@BOOK{,
%@CBOOK{,
%@MASTERSTHESIS{
%@CMASTERSTHESIS{
%@PHDTHESIS{
%@PHDTHESIS{
%@TECHREPORT{
%@CTECHREPORT{
  AUTHOR =       {},
  normalauthor = {},       %不改变大小写的作者
  EDITOR =       {},
  normaleditor = {},       %不改变大小写的作者
  YEAR =         {},
  miscyear =     {},       %其它类中用于输出年份
  TITLE =        {},
  EDITION =      {},
  ADDRESS =      {},
  PUBLISHER =    {},
  SCHOOL =       {},       %（论文作者所在）学校
  INSTITUTION    {}.       %（报告作者所在）机构
  translator =   {},       %翻译者
  TypeofLit =    {},       %文献类型标识码
  startyear =    {},       %起始年
  startvolume =  {},       %起始卷
  startnumber =  {},       %起始期
  endyear =      {},       %终止年
  endvolume =    {},       %终止卷
  endnumber =    {},       %终止期
  date =         {},       %在线的日期
  modifydate =   {},       %在线文献修改日期
  citedate =     {},       %在线文献引用日期
  url =          {},       %网址
  language =     {},       %文献的语言
}
\end{verbatim}


\subsection{Incollection \& inproceedings}
\begin{itemize}
  \item A6书中析出的文章[M]//4.2
  \item A6汇编的析出文献[G]//4.2
  \item A6标准的析出文献[S]//4.2
  \item A6论文集、会议录中的析出文献[C]//4.2
  \item A9在线论文集、会议录[C/OL]//
\end{itemize}

\begin{verbatim}
@INCOLLECTION {,
%@CINCOLLECTION {,
%@INPROCEEDINGS {,
%@CINPROCEEDINGS {,
  AUTHOR =       {},
  normalauthor = {},
  EDITOR =       {},
  normaleditor = {},
  YEAR =         {},
  miscyear =     {},
  TITLE =        {},
  EDITION =      {},
  BOOKTITLE =    {},
  PAGES =        {},
  ADDRESS =      {},
  PUBLISHER =    {},
  translator =   {},
  TypeofLit =    {},
  date =         {},
  modifydate =   {},
  citedate =     {},
  url =          {},
  language =     {},
}
\end{verbatim}

\subsection{Article}
\begin{itemize}
  \item A7文章[J]4.4
  \item A8报纸中的析出文献[N]
  \item A9在线文章[J/OL]4.4
\end{itemize}

\begin{verbatim}
@ARTICLE{,
%@cARTICLE{,
  AUTHOR =       {},
  normalauthor = {},
  TITLE =        {},
  JOURNAL =      {},
  YEAR =         {},
  miscyear =     {},
  VOLUME =       {},
  NUMBER =       {},       %报纸的版面
  PAGES =        {},
  MONTH =        {},       %报纸的月和日
  TypeofLit =    {},       %文献类型标识码
  date =         {},
  modifydate =   {},
  citedate =     {},
  url =          {},
  language =     {},
}
\end{verbatim}

\subsection{Misc}
\begin{itemize}
  \item A5专利[P]4.5
  \item A9网上专利[P/OL]4.5
  \item A9网上电子公告[EB/OL]4.6
  \item A9磁盘[CP/DK]
\end{itemize}

\begin{verbatim}
@MISC{,
%@CMISC{,
  AUTHOR =       {},
  normalauthor = {},
  EDITOR =       {},
  normaleditor = {},
  TITLE =        {},
  YEAR =         {},
  miscyear =     {},
  TypeofLit =    {},
  COUNTRY =      {},
  PATENTID =     {},
  date =         {},
  modifydate =   {},
  citedate =     {},
  url =          {},
  language =     {},
}
\end{verbatim}

以下是一些补充性的说明和资料的汇编。
\section{国标的一些规定}
本节摘自《GB/T 7714-2005文后参考文献著录规则》。对于国标很熟悉的使用者，可以跳过本节。

8.4出版项


出版项按出版地、出版者、出版年顺序著录。

8.4.1.2文献中载有多个出版地，只著录第一个或处于显要位置的出版地

8.4.1.3无出版地的中文文献著录"出版地不详"。外文文献著录"S. 1.，并置于方括号内。
如果通过计算机网络存取的联机电子文献无出版地，可以省略此项。

8.4.2出版者

8.4.2.1出版者可以按著录信息源所载的形式著录，也可以按国际公认的简化形式或缩写形式著录。

8.4.2.2著录信息源载有多个出版者.只著录第一个或处于显要位置的出版者。

8.4.2.3无出版者的中文文献著录"出版者不详"，外文文献著录"s.n."，并置于方括号内。
如果通过计算机网络存取的联机电子文献无出版者，可以省略此项。

8.4.3.2报纸和专利文献需详细著录出版日期，其形式为"YYYY-MM-DD" 。

8.5页码

专著或期刊中析出义献的页码或引文页码，要求用阿拉伯数字著录(见8.6,10.1.310.2.4)0

8.6析出文献

8.6.1从专著中析出有独立著者、独立篇名的文献按4.2的有关规定著录，其析出文献与源文献的关系用"//"表示。凡是从报刊中析出具有独立著者、独立篇名的文献按4. 4的有关规定著录，其析出文献与源文献的关系用"."表示。关于引文参考文献的著录与标注参见10. 1. 3与10.2.4。


8.6.2凡是从期刊中析出的文献，应在刊名之后注明其年份、卷、期、部分号、页码。

8.6.3凡是从报纸中析出的文献，应在报纸名后著录其出版日期与版次。

示例:2000-03-14(1)

\verb*|年 月 日 版次|

此外，《GB/T 7714-2005文后参考文献著录规则》附录A中A7对于DES MARAIS D J排名在HEWITT J A前。
因而表明国标在对参考文献进行排序时将von，des等考虑到排序次序中。

\section{有待解决的问题}
通过GBT7714-2005.bib的测试，虽然(\textsf{GBT7714-2005.bst})能较好的达到GB/T 7714-2005标准。
但是仍存在如下问题：

\begin{enumerate}
\item \textsf{GBT7714-2005.bst}
所生成的英文析出文献的文献类型标识码之后会有一个句号（GBT7714-2005规定没有）。
解决途径：对所生成的bbl文件将其中的“\verb|]//.|”替换为“\verb|]//|”然后运行latex两次以上，
则可得到正确的结果。
一般而言，文献中用到“\verb|]//.|”符号的概率几乎为零。
如果出现该符号，目前可以借助于hooklee所编的小软件\verb|replace_fs.exe|来自动实现替换。
然而，由于中英文的差异，仍然在一些不必要的地方出现一些空额，或是换行不正确。
对于格式要求非常严格的使用者，建议手工修改bbl文件。

\item 文中姓名的连结符使用“和”与“等”。还不知道如何针对中英文献分别用“和/and”与“等/et al.”。

\item 未发表文章（working paper）的中文文献标识码是什么？是手稿[H]吗？
例如NBER，IMF，World Bank的研究报告，按照国外的惯例作为TECHREPORT进行管理，
中文文献标识码暂时用默认的[R]报告类型。
暂时用默认的
\end{enumerate}

原因有待进一步分析，期待您的宝贵意见。

\section{附注}

\subsection{文献类型代码表}
\begin{longtable}{|p{1.5cm}|p{1.5cm}|p{6cm}|p{1cm}|p{1.5cm}|}
\caption{文献类型代码表}\\
\hline
       单字码 & 序号 & 名称                           & 简称 & 双字码 \\
\hline
         A    & 21   & 录音带(含唱片，录音磁带)       & 音   & LY     \\
\hline
         B    & 15   & 档案                           & 档   & DA     \\
\hline
         C    & 4    & 会议录(含座谈会，讨论会)       & 会   & HY     \\
\hline
         D    & 6    & 学位论文                       & 学   & XL     \\
\hline
         E    & 26   & 其他(盲文等)                   & 他   & QT     \\
\hline
         F    & 20   & 缩微唱片                       & 平   & SP     \\
\hline
         G    & 5    & 汇编(含论文集等)               & 汇   & HB     \\
\hline
         H    & 12   & 手稿                           & 手   & SG     \\
\hline
         I    & 18   & 乐谱                           & 谱   & YP     \\
\hline
         J    & 3    & 期刊                           & 刊   & QK     \\
\hline
         K    & 13   & 参考工具(含年鉴，手册，字典等) & 参   & CG     \\
\hline
         L    & 22   & 唱片                           & 唱   & CP     \\
\hline
         M    & 1    & 专著(含教材等)                 & 著   & ZZ     \\
\hline
         N    & 2    & 报纸                           & 报   & BZ     \\
\hline
         O    & 17   & 古籍(含金石，竹简等)           & 古   & GJ     \\
\hline
         P    & 9    & 专利文献                       & 专   & ZL     \\
\hline
         Q    & 16   & 图表(含地图，地质图，气象图等) & 图   & TB     \\
\hline
         R    & 7    & 科技报告(含技术，调查，考察等) & 告   & BG     \\
\hline
         S    & 8    & 技术标准(含规范，法规等)       & 标   & JB     \\
\hline
         T    & 11   & 中译本                         & 译   & YW     \\
\hline
         U    & 19   & 缩微胶卷                       & 卷   & SJ     \\
\hline
         V    & 23   & 录像带                         & 相   & LX     \\
\hline
         W    & 14   & 检索工具(含目录，书目，文摘等) & 检   & JG     \\
\hline
         X    & 10   & 产品样本(含产品说明书等)       & 样   & YB     \\
\hline
         Y    & 24   & 电影片                         & 影   & DY     \\
\hline
         Z    & 25   & 幻灯片                         & 幻   & HD     \\
\hline
\hline
        DB    &      & 数据库                         &      &        \\
\hline
        CP    &      & 计算机程序                     &      &        \\
\hline
        EB    &      & 电子公告                       &      &        \\
\hline
\end{longtable}

\subsection{电子文献载体和标志代码}
\begin{center}
\begin{tabular}{|l|l|}
\hline
      载体类型        & 标志代码 \\
\hline
磁带（magnetic tape） & MT       \\
\hline
  磁盘（disk)         & DK       \\
\hline
光盘(CD-ROM)          & CD       \\
\hline
联机网络(online)      & OL       \\
\hline
\end{tabular}
\end{center}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{测试文献}
测试文献库GBT7714-2005Lang.bib



A.1 普通图书

\citep{gxzzzzqlyt1993}，
\citep{jiangyouxu1998}，
\citep{tangxujun1999}，
\citep{zhaokaihua1995}，
\citep{wangang1912}，
\citep{zhaoyaodong1998}，
\citep{crawfprd1995}，
\citep{iflai1977}，
\citep{obrien1994}，
\citep{rood2001}，
\citep{angwen1988}。

A.2 论文集、会议录

\citep{zglxxh1990}，
\citep{ROSENTHALL1963}，
\citep{GANZHA2000}。

A.3 科技报告

\citep{dtha1990}，
\citep{who1970}。

A.4 学位论文

\citep{ZHANGZHIXIANG1998}，
\citep{CALMS1965}。

A.5 专利文献

\citep{LIUJIALIN1993}，
\citep{hblz2001}，
\citep{KOSEKI2002}。

A.6 专著中析出的文献

\citep{baishunong1998}，
\citep{gjbzjxxflbmyjs1988}，
\citep{hanjiren1985}，
\citep{BUSECK1980}，
\citep{FOURNEY1971}，
\citep{feilisheng1981}，
\citep{MARTIN1996}。

A.7 期刊中析出的文献

\citep{libingmu2000}，
\citep{taorengji1984}，
\citep{yzdztbmz1978}，
\citep{MARAIS1992}，
\citep{HEWITT1984}。

A.8 报纸中析出的文献

\citep{Dingwenxiang2000}，
\citep{Zhangtianqing2000}。

A.9 电子文献

\citep{jiangxiangdong1999}，
\citep{xiaoniu2001}，
\citep{CHRISTINE1998}，
\citep{METCALF1995}，
\citep{TURCOTTE1992}，
\citep{Scitor1983}。

附加测试

B1.连续出版物4.3

\citep{zgdzxh1936}，
\citep{zgtsgxh1957}，
\citep{AAAS1883}。

顺序编码制数字的压缩性测试

\citep{angwen1988,baishunong1998,Dingwenxiang2000,gxzzzzqlyt1993,
jiangyouxu1998,tangxujun1999,zhaokaihua1995,wangang1912,zhaoyaodong1998}，
\citep{crawfprd1995}，
\citep{iflai1977}，
\citep{obrien1994}，
\citep{rood2001}，
\citep{angwen1988}。

B2. CAJ-CD B/T 1-2005

中国学术期刊(光盘版)检索与评价数据规范

Data Norm for Retrieval and Evaluation of Chinese Academic Journal(CD) (修订版试行稿)

CAJ-CD

中国学术期刊(光盘版)技术规范CAJ-CD B/T 1-2005

代替CAJ-CD B/T 1-1998

（注意：如下是使用\verb|\citet{}|的效果）

\citet[12]{zhuyixuan1985},
\citet{yejianying1946},
\citet{gwywgzjj1958},\citet{shenkuogwywgzjj1070},\citet{jiyun1800},
\citet{liujiang2004},\citet{wanjingkun1996},\citet{dai1983}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%参考文献设置
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\pinyin[1]{}
\renewcommand\refname{参考文献}


%\input "GBT7714-2005Lang.bib"

\addtolength{\itemsep}{-2 em} % 缩小参考文献间的垂直间距
\makeatletter
\def\@biblabel#1{~~~~~~~~~~$[{#1}]$}
\makeatother
\setlength{\bibhang}{6mm} % 缩小参考文献第一行之后的水平缩进
\bibliography{GBT7714-2005Lang}
\bibliographystyle{GBT7714-2005NLang}

\clearpage
\end{CJK*}

\end{document}
