\begin{minipage}{\textwidth}

\section{Rules of Different Commit Semantics}\label{sec:commits}

\subsection{Localized Commit}

\[
  \label{rule:localized-commit}
  \frac{
    [\cm.e,f]=A[i] \qquad
    (1\le i\le |A|)
  }
  {G\oplus_i\langle A,d,s\rangle \gto \langle A[i\mapsto[e,f]],d,\snapshot(s,|e|,i,f(d))\rangle}
\]

\subsection{Absolutely Eager Commit}

\[
  \label{rule:abs-eager-commit}
  \frac{
    w\in leaves(G) \qquad
    w=\langle A,d,s\rangle \qquad
    [\cm.e,f]=A[i] \qquad
    i\not\in cid(G) \qquad
    (1\le i\le |A|)
  }
  {G\oplus_i G' \gto \langle A[i\mapsto[e,f]],d,\snapshot(s,|e|,i,f(d))\rangle}
\]

\subsection{Eager Commit}

\[
  \label{rule:eager-commit}
  \frac{
    w\in leaves(G) \qquad
    w=\langle A,d,s\rangle \qquad
    [\cm.e,f]=A[i] \qquad
    i\not\in cid(G) \qquad
    w'=\langle A[i\mapsto[e,f]],d,\snapshot(s,|e|,i,f(d))\rangle \qquad
    (1\le i\le |A|)
  }
  {G\oplus_i G' \gto replace(G,w,w')}
\]

\subsection{Late Commit}

\[
  \tag{\sc Fork}
  \frac{
    {[(e_1\oplus e_2).e,f]=A[i]}\qquad
    {(1\le i\le |A|)}}
  {\langle A,d,s\rangle \gto
    \langle A[i\mapsto[e_1.e,f]],d,s\rangle^{\color{red} 1} \oplus_i
    \langle A[i\mapsto[e_2.e,f]],d,s\rangle^{\color{red} 2}}
\]

\subsection{Coordinated Commit}

\[
  \label{rule:eager-commit}
  \frac{
    \widetilde{G}=same(G,i,\cm) \qquad
    \widetilde{G}\neq\,\uparrow\fbox{\small undefined} \qquad
    i\not\in cid(G)
  }
  {G\oplus_i G'\gto\widetilde{G}}
\]

\[
  \frac{}
  { same(G_1\oplus_k G_2,i,e) = same(G_1,i,e)\oplus_k same(G_2,i,e) }
\]
\[
  \frac{
    w = \langle A,d,s\rangle \qquad
    [e.e',f]=A[i] \qquad
    (1\le i\le |A|)
  }
  { same(w,i,e) = \langle A[i\mapsto[e',f]],d,\snapshot(s,|e'|,i,f(d))\rangle }
\]

\end{minipage}
