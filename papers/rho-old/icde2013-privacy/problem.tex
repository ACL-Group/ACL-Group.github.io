\section{The Problem Definition}
\label{sec:prob}

In this section we formally define the {\em  Optimal Suppression Problem}
for set-valued data anonymization. We first define some preliminary concepts.

A {\em multiset} is a set which allows repetitive elements, while a {\em
power set} is the set of all subsets of a set. \textcolor{red}{Assume $S$ is
a multiset, $\mathbb{N}^S$ is the power multiset of the set $S$.}
%Examples or formal definitions of these are given below.
%\begin{description}
%  \item[Multiset] $[a,a,b]$ is the same as $(\{a,b\},\{(a,2),(b,1)\})$
  %\item[Power set] $2^S$ is the power set of the set $S$
  %\item[Power multiset] $\mathbb{N}^S$ is the power multiset of the set
     % $S$
%\end{description}

\begin{table}[th]
\centering
\caption{Notations for Problem Definition}
\label{table:problem_notations}
\begin{tabular}{c|p{0.6\columnwidth}}
  \hline
  \textbf{Symbol} & \textbf{Definition} \\
  \hline
  $D = D_S \cup D_N$ & the domain, which is the set of all possible items \\ \hline
  $D_S$ & the sensitive domain \\ \hline
  $D_N$ & the non-sensitive domain \\ \hline
  $T\in\natnum^{2^D}$ & a set-valued table, which is a multiset of $m$ transaction records \\ \hline
  $T[i]\in T$ & the $i$-th record of $T$ \\ \hline
  $R\in T$ & a transaction record, which is a set of items drawn from $D$ \\ \hline
  $|R|$ & the number of items contained in $R$ \\ \hline
  $q$ & a \emph{quasi-identifier} (also\qid), which is a set of items(sensitive items also allowed) taken from any record in table $T$ \\ \hline
  $\enum(R) = 2^R - \{\emptyset\}$ & the\qid enumeration of $R$, which is the power set of $R$ except the $\emptyset$ \\ \hline
  $\displaystyle Q(T)=\bigcup_{R\in T} \enum(R)$ & the set of all\qids in table $T$ \\ \hline
  $\rho$ & the strong influence threshold \\ \hline
\end{tabular}
\end{table}

%A set-valued table $T$ is a multiset of transaction records,
%  each record $R \in T$ is a set of items drawn from domain $D$.
%  $D$ is the union of two non-intersecting set, sensitive domain $D_S$ and non-sensitive domain $D_N$.
%We follow the step of \cite{Sweeney2002:k-anonymity} and
%  extend the definition \emph{quasi-identifier} ($qid$) in relational database for set-valued data.
%Then we give a series of other definitions related with $qid$.
%As simple as you can imagine, a $qid$ is just a set of items taken from $D$.
%$Q$ is a set of $qid$s, $\Omega(R_i)$ is the $qid$ enumeration of $R$ which is the power set of $R$ except the $\emptyset$.
%The column count $cc$ of row $R$ is the number of items contained in $R$.

Table \ref{table:problem_notations} lists the detailed notations used in the
rest of this paper. Next we define a number of important notations before
presenting the problem definition.

\begin{definition}[Container]
The \emph{container} of a\qid $q$ in table $T$ is defined as \[ \container_T(q) = \{ i \in \natnum : q \subseteq T[i], 1 \leq i \leq |T| \} .\]
The size of a container is defined as \[ \csize_T(q) = |\container_T(q)| .\]
\end{definition}

\begin{definition}[Linked Items]
All sensitive items linked by a\qid $q$ in table $T$ is defined as \[ \linked_T(q) = \{ e \in D_S-q : \csize_T(q\cup\{e\}) > 0 \} .\]
\end{definition}

We will also use $\container(q)$, $\csize(q)$ and $\linked(q)$ to represent $\container_T(q)$,
$\kappa_T(q)$ and $\linked_T(q)$ respectively when $T$ is the only table within discussion.

\begin{definition}[Breach Probability]
\label{def:probability}
The \emph{breach probability} of a\qid $q$ is \[ \breach(q) = \max_{e\in\linked(q)} P(e|q) \]
where $P(e|q) = P(q\rightarrow e) = \csize(q\cup \{e\})/\csize(q)$.
\end{definition}

The notation of $q\rightarrow e$ is used to represent an inference rule,
  where $q$ is the antecedent (left-hand side), and $e$ is the consequent (right-hand side).

\begin{property}
\label{prop:container_size}
For two\qids $p$ and $q$, if $p\subseteq q$ then $\container(q)\subseteq\container(p)$ and $\csize(q)\leq \csize(p)$.
\end{property}

\begin{proof}
  $\forall i\in\container(q), q\subseteq T[i]\Rightarrow p\subseteq q\subseteq T[i] \Rightarrow i\in\container(p)$,
  so $\container(q)\subseteq\container(p)$. Hence, $\csize(q)\leq \csize(p)$.
\end{proof}

Property \ref{prop:container_size} guarantees that $P(e|q)$ in Definition
\ref{def:probability} is a well-defined probability.
\textcolor{red}{Substantiate it!}

\begin{definition}%[Safety of qid]
\label{def:safety_qid}
A\qid $q$ is safe \wrt~$\rho$ if and only if $\breach(q)\leq\rho$.
\end{definition}

\begin{definition}%[Safety of Table]
\label{def:safety_table}
A table $T$ is safe \wrt~$\rho$ if and only if $q$ is safe \wrt~$\rho$ for any\qid $q\in Q(T)$.
\end{definition}

\begin{definition}[Suppressor]
\label{def:suppressor}
A function $S : \natnum^{2^D}\times[0,1]\rightarrow\natnum^{2^D}$ is a \emph{suppressor} if and only if $S(T,\rho)$ is safe \wrt~$\rho$ for any table $T$.
\end{definition}

\begin{definition}[Information Loss]
\label{def:infoloss}
Let $T^\prime = S(T)$ be the suppression result of table $T$ by the suppressor $S$.
The information loss of an item $e$ is defined as
\[ IL(e) = \kappa_T(\{e\}) - \kappa_{T^\prime}(\{e\}), \]
and the information loss of a suppression from $T$ to $T^\prime$ is defined as
\[ IL(T,T^\prime) = \frac{\sum_{e\in D}IL(e)}{\sum_{e\in D}\kappa_T(\{e\})}. \]
\end{definition}

Information loss of $T$ is essentially the number of items deleted in $T$
divided by total number of items in $T$. Our aim is to find a suppressor
defined in Definition \ref{def:suppressor} which reduces information loss as
much as possible. Information loss is caused by suppression of items, and the
best way to consider it depends on the specific downstream application
\cite{Xu:2008:ATD}. Xu \etal \cite{Xu:2008:ATD} requires the data publisher
assigning a certain information loss function to the suppression of an item
$e$, denoted $IL(e)$.
% \emph{Classification Metric}
%\cite{Iyengar:2002:TDS} is better for anonymizing data for classifier
%training. \emph{Normalized Certainty Penalty} \cite{Xu:2006:UAU} is proposed
%for anonymization using generalization.  Cao \etal
%\cite{Cao:2010:rho} introduces a metric for computing the information loss
%caused by generalization.
\PC{I remove sth here. The stuff is about the metric introduction}
We use three metrics to measure the effectiveness of our partial suppression
algorithm and peers. The first one is the \emph{information loss}. The second
one is the \emph{symmetric relative entropy} which measures the change in
data distribution. The third one is the \emph{number of rules mined} from the
data after suppression. The first measure is more general and used by other
work. The last two targets the utility of the suppressed data for statistical
analysis and rule mining, and they will be introduced in Section
\ref{sec:eval}. We'll consider these three metrics in our
heuristic solution later.

\begin{definition}[Optimal Suppression Problem]
\label{def:osp}
The optimal suppression problem is to find an optimal suppressor $S_\text{OPT}$ for a given table $T$ such that
\[ IL(T,S_\text{OPT}(T))\leq IL(T,S(T)) \] for any suppressor $S$.
\end{definition}
\PC{Why need this?}

