%%==================================================
%% diss.tex for SJTU Bachelor Thesis
%% based on CASthesis
%% version: 0.3a
%% Encoding: UTF-8
%%==================================================

% 字号选项: c5size 五号(默认) cs4size 小四
% 双面打印（注意字号设置）
%\documentclass[cs4size, a4paper, twoside]{sjtuthesis} 
% 单面打印（注意字号设置）

\expandafter\def\csname CTEX@spaceChar\endcsname{\hspace{1em}}
\documentclass[cs4size, a4paer, oneside, openany]{sjtuthesis} 

\CTEXsetup[name={,},number=\arabic{chapter}]{chapter}

\renewcommand\bibname{Reference}

\usepackage[titles]{tocloft}
\renewcommand{\cftchapfont}{\normalfont}
\renewcommand{\cftchappagefont}{\normalfont}

\usepackage[english]{babel}
\usepackage{english_chapter}

\usepackage{fmtcount,etoolbox}
\makeatletter
\patchcmd{\@makechapterhead}{\thechapter}{\Numberstring{chapter}}{}{}
\renewcommand\CTEX@bibname{Reference}
\makeatother

\setcitestyle{citesep={;},aysep={,},yysep{;},notesep={: }}
\newcommand{\ifempty}[3]{\ifx\something#1\something{#2}\else{#3}\fi}
\newcommand{\sjtucite}[2][]{([{\citenum{#2}}], \citeauthor{#2}, \citeyear[#1]{#2}\ifempty{#1}{}{: #1})}

% \usepackage[sectionbib]{chapterbib}%每章都用参考文献
\usepackage{setspace}
\newboolean{DOIT}
\setboolean{DOIT}{false}%编译某些只想自己看的内容，编译true，否则false

%% 行距缩放因子(x倍字号)
\renewcommand{\baselinestretch}{1.3}

% 设置图形文件的搜索路径
\graphicspath{{figure/}{figs/}{logo/}{logos/}{graph/}{graphs}}


%%========================================
%% 在sjtuthesis.cls中定义的有用命令
%%========================================
% \cndash 中文破折号
% 数学常量
% \me 对数常数e
% \mi 虚数单位i
% \mj 虚数单位j
% \dif 直立的微分算符d为直立体。
% 可伸长的数学箭头、等号
% \myRightarrow{}{}
% \myLeftarrow{}{}
% \myBioarrow{}{}
% \myLongEqual{}{}
% 参考文献
% \upcite{} 上标引用
%%========================================

\usepackage{balance}
\usepackage{amsmath,amsfonts,amssymb}
\usepackage{color}
\usepackage{graphicx}
\usepackage{epsfig}
\usepackage{url}
\usepackage{semantic}
\usepackage{subfigure}
\newcommand{\figref}[1]{Figure \ref{#1}}
\newcommand{\tabref}[1]{Table \ref{#1}}
\newcommand{\eqnref}[1]{Equation \ref{#1}}
\newcommand{\KZ}[1]{\textcolor{blue}{(KZ: #1)}}
\newcommand{\ZY}[1]{\textcolor{red}{(#1)}}
\newcommand{\ERIC}[1]{\textcolor{green}{(Eric: #1)}}
\newcommand{\cut}[1]{}
\newcommand{\dd}[0]{\mathrm{d}}
\newcommand{\numberthis}{\stepcounter{equation}\tag{\theequation}}

\usepackage{courier}
\usepackage{listings}
\lstset{ %
	numberstyle=\scriptsize,
	basicstyle=\scriptsize\ttfamily,
	breaklines=true,
	tabsize=1,
	columns=fullflexible,
	numbers=left,
	stepnumber=1
}



\DeclareMathOperator*{\var}{var}
\DeclareMathOperator*{\val}{val}
\DeclareMathOperator*{\dom}{dom}

\mathlig{=>}{\Rightarrow}
\mathlig{->}{\rightarrow}

\newcounter{enum}
\newenvironment{packed_enum}{
%\begin{list}{\arabic{enum}.}{
\begin{list}{(\alph{enum})}{
  \setlength{\itemsep}{-0.5pt}
  \setlength{\parskip}{1pt}
  \setlength{\labelwidth}{30 pt}
  \setlength{\leftmargin}{15 pt}
  \setlength{\itemindent}{0pt}
  \usecounter{enum}}
}{\end{list}}


\makeatletter
\newcommand{\Spvek}[2][r]{%
  \gdef\@VORNE{1}
  \left(\hskip-\arraycolsep%
    \begin{array}{#1}\vekSp@lten{#2}\end{array}%
  \hskip-\arraycolsep\right)}

\def\vekSp@lten#1{\xvekSp@lten#1;vekL@stLine;}
\def\vekL@stLine{vekL@stLine}
\def\xvekSp@lten#1;{\def\temp{#1}%
  \ifx\temp\vekL@stLine
  \else
    \ifnum\@VORNE=1\gdef\@VORNE{0}
    \else\@arraycr\fi%
    #1%
    \expandafter\xvekSp@lten
  \fi}
\makeatother

\newcommand\Mark[1]{\textsuperscript{#1}}

\begin{document}

\setlength\parindent{0pt}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%% 封面
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% 中文封面内容(关注内容而不是形式)
\title{A New CodeGen Module for InferSpark}
\author{赵卓越}
\advisor{朱其立}
\degree{学士}
\defenddate{}
\school{上海交通大学}
\institute{致远学院}
\studentnumber{5120309037}
\major{计算机科学与技术（交大ACM班）}

% 英文封面内容(关注内容而不是表现形式)
\englishtitle{A New CodeGen Module for InferSpark}
\englishauthor{Zhuoyue Zhao}
\englishadvisor{Prof. Kenny Zhu}
\englishschool{Shanghai Jiao Tong University}
\englishinstitute{Zhiyuan College}
\englishdegree{Bachelor}
\englishmajor{Computer Science and Technology (SJTU ACM Class)}
\englishdate{}

% 封面
\maketitle

% 英文封面
%\makeenglishtitle

% 论文原创性声明和使用授权
%\makeDeclareOriginal
%\makeDeclareAuthorization

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%% 前言
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\frontmatter
\pagenumbering{gobble}

% 摘要
\include{body/abstract}

% 目录
\tableofcontents
% 表格索引
\listoftables
% 插图索引
\listoffigures

% \addcontentsline{toc}{chapter}{\listfigurename} %将表格索引加入全文目录
% \addcontentsline{toc}{chapter}{\listtablename}  %将图索引加入全文目录

% 主要符号、缩略词对照表
% \include{body/symbol}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%% 正文
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\mainmatter

%% 各章正文内容
\include{body/intro}
\include{body/background}
\include{body/framework}
\include{body/impl_and_eval}
\include{body/graphengine}
\include{body/relatedwork}
\include{body/conclusion}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%% 附录(章节编号重新计算，使用字母进行编号)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\appendix

% 附录中编号形式是"A-1"的样子
\renewcommand\theequation{\Alph{chapter}--\arabic{equation}}
\renewcommand\thefigure{\Alph{chapter}--\arabic{figure}}
\renewcommand\thetable{\Alph{chapter}--\arabic{table}}

%\include{body/app1} % 更新记录
%\include{body/app2} % 麦克斯韦方程
% \include{body/app3}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%% 文后(无章节编号)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\backmatter

% 参考文献
% 使用 BibTeX
% 包含参考文献文件.bib
\bibliography{reference/paper}

%% 个人简历(学士学位论文没有个人简历要求)
% \include{body/resume}

% 致谢
\include{body/ack}

% 发表文章目录
%\include{body/pub}

% 参与项目列表
%\include{body/projects}

%英文大摘要
%\include{body/bigabstract}

\end{document}
